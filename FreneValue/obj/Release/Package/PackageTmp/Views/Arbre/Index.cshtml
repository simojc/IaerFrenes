@model IEnumerable<FreneValue.Models.arbre>

@{
    ViewBag.Title = "Index";
}

<h4>Liste des arbres</h4>

<div align="right"><h4>  @Html.ActionLink("Ajouter un arbre", "Create")  </h4> </div>

<table class="table table-bordered table-striped">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.num_arbre)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.id_profil)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.typ_emplcmt)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.id_local)
        </th>
      
        <th>
            @Html.DisplayNameFor(model => model.orientatn)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ess)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.lattd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.longtd)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.dt_plant)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.type_lieu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.typ_abr)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.typ_prop)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nom_topo)
            </th>*@
        @*<th>
                @Html.DisplayNameFor(model => model.util)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.dt_cretn)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.dt_modf)
            </th>*@
        <th> Action </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.num_arbre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.id_profil)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.typ_emplcmt)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.id_local)
            </td>          
            <td>
                @Html.DisplayFor(modelItem => item.orientatn)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ess)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.lattd)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.longtd)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.dt_plant)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.type_lieu)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.typ_abr)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.typ_prop)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.nom_topo)
                </td>*@


            <td>
                <div class="pull-right">

                    @Html.ActionLink(" ", "Edit", new { id = item.id }, new { @class = "glyphicon glyphicon-pencil", title = "Modifier" })
                    &nbsp;
                    &nbsp;
                    @Ajax.ActionLink(" ", "Evaluation", new { id = item.id },  new AjaxOptions
               {
                   UpdateTargetId = "EvalDiv",
                   InsertionMode = InsertionMode.Replace,
                   HttpMethod = "GET"
               }, new { @class = "glyphicon glyphicon-tree-conifer", title = "Evaluation" })
                    &nbsp;
                    &nbsp;
                    @Html.ActionLink(" ", "Delete", new { id = item.id }, new { @class = "glyphicon glyphicon-trash", title = "Supprimer" })

                </div>
            </td>

            <td>                          
                @Ajax.ActionLink("Évaluation", "Evaluation", new { id_arbre = item.id }, new AjaxOptions
                {
                    UpdateTargetId = "EvalDiv",
                    InsertionMode = InsertionMode.Replace,
                    HttpMethod = "GET"
                })

            </td>
        </tr>
    }
</table>

<div id="EvalDiv">

</div>